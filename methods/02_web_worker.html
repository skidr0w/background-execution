<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Web worker</title>
    <script src="https://unpkg.com/fast-unique-numbers@3.0.7/build/es5/bundle.js"></script>
    <script src="https://unpkg.com/worker-timers-broker@5.0.8/build/es5/bundle.js"></script>
    <script src="https://unpkg.com/worker-timers@5.0.10/build/es5/bundle.js"></script>
  </head>
  <body>
    <p>
      This method uses web workers to schedule the background execution. Uses
      <a href="https://github.com/chrisguttandin/worker-timers"
        ><code>worker-timers</code></a
      >
      under the hood.
    </p>

    <script src="functions.js"></script>
    <script>
      measure("window.setInterval", function(callback) {
        const intervalId = workerTimers.setInterval(callback, 1);
        return function() {
          workerTimers.clearInterval(intervalId);
        };
      });
    </script>
  </body>
</html>
