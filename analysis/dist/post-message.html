<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PostMessage</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  </head>
  <body class="container">
    <h1>Zero delay interval with postMessage</h1>
    <p>
      This method uses <code>window.postMessage</code> for a near zero delay callback. (<a href="https://dbaron.org/log/20100309-faster-timeouts">Source</a>)
    </p>
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout#Reasons_for_delays_longer_than_specified">See here</a> for background information</p>

    <div class="panel panel-default" id="parameters">
      <div class="panel-heading">
        <h2 class="panel-title">Parameters</h2>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-sm-4">
            <div class="form-group">
              <label for="work-duration">Work duration (ms)</label>
              <input type="number" class="form-control" id="work-duration" min="0" max="10000" step="50" value="1000" aria-describedby="work-duration-help">
              <span id="work-duration-help" class="help-block">Executing this long without yielding back to the event loop. Longer durations may get better performance for background exection, but will block the UI when returning to the tab.</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <a class="btn btn-primary" href="about:blank" target="_blank" rel="noopener" role="button" id="start">Open new tab to start measuring</a>


    <script src="post-message.bundle.js"></script>
  </body>
</html>
